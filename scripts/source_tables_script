-- Step 1: Create Source Tables (Where Real Data Lives)
-- Customer table
CREATE TABLE CUSTOMERS (
    CUSTOMER_ID NUMBER PRIMARY KEY,
    FIRST_NAME VARCHAR2(50),
    LAST_NAME VARCHAR2(50),
    EMAIL VARCHAR2(100),
    CREATED_DATE DATE DEFAULT SYSDATE,
    LAST_MODIFIED DATE DEFAULT SYSDATE  -- This helps us track changes
);

ALTER TABLE CUSTOMERS
ADD CONSTRAINT UK_EMAIL UNIQUE (EMAIL);


-- Orders table
CREATE TABLE ORDERS (
    ORDER_ID NUMBER PRIMARY KEY,
    CUSTOMER_ID NUMBER,
    ORDER_DATE DATE DEFAULT SYSDATE,
    TOTAL_AMOUNT NUMBER(10,2),
    STATUS VARCHAR2(20),
    LAST_MODIFIED DATE DEFAULT SYSDATE  -- This helps us track changes
);


-- Add some sample data
INSERT INTO CUSTOMERS VALUES (1, 'John', 'Doe', 'john@email.com', SYSDATE, SYSDATE);
INSERT INTO CUSTOMERS VALUES (2, 'Jane', 'Smith', 'jane@email.com', SYSDATE, SYSDATE);

INSERT INTO ORDERS VALUES (101, 1, SYSDATE, 250.00, 'PENDING', SYSDATE);
INSERT INTO ORDERS VALUES (102, 2, SYSDATE, 180.50, 'COMPLETED', SYSDATE);

Explanation:
    • LAST_MODIFIED column is the key to CDC - it tells us when data changed 
    • We use this to find only new/updated records
